{{ block title }}
    Instructions
{{ endblock }}

{% block scripts %}

    <script>
        let activeTab = 0;

        function showCurrentTabOnly() {
            let tabIndex = 0;
            for (let tab of document.getElementsByClassName('tab')) {
                tab.style.display = tabIndex === activeTab ? 'block' : 'none';
                tabIndex++;
            }
        }

        showCurrentTabOnly();
        for (let btn of document.getElementsByClassName('btn-tab')) {
            btn.onclick = function () {
                activeTab += parseInt(btn.dataset.offset);
                showCurrentTabOnly();
                window.scrollTo(0, 0);
            }
        }
    </script>

{% endblock %}

{{ block content }}

    <!-- Alignment of buttons -->
    <style>
        .next {float: right; margin: 40px auto;}
        .back {float: left; margin: 40px auto;}
    </style>


    <!-- Page 1 -->
    <div class="tab">

        <p>
            Instruction text goes here.
        </p>
        <p>
            <button type="button" class="btn btn-primary btn-tab next" data-offset="1">Next</button>
        </p>

    </div>

    <!-- Page 2 -->
    <div class="tab">

        <p>
            Before we start, we need to ensure that you understand the instructions. We ask you to answer a few simple questions.
            <b>If you make more than one mistake, we will have to exclude you from the rest of the study.</b>
        </p>
        <p>
            You may view the instructions again by going back to the previous page (click 'back' below).
        </p>
        <p>
            {{ formfield 'test1' }}
            {{ formfield 'test2' }}
            {{ formfield 'test3' }}
            {{ formfield 'test4' }}
        </p>

        <p>
            <button type="button" class="btn btn-primary btn-tab back" data-offset="-1">Back</button>
            <button class="btn btn-primary next">Next</button>
        </p>

    </div>

{{ endblock }}
